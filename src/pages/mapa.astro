---
import Layout from '../layouts/Layout.astro';
const title = "Ubicación | Maserati";
---

<Layout title={title}>
    <div class="bg-maserati-negro pt-32 pb-12 px-6 text-center relative z-10">
        <h1 class="text-4xl md:text-5xl font-bold text-maserati-blanco mb-4 tracking-tight">
            Sede <span class="text-maserati-amber">Mondiale</span>
        </h1>
        <p class="text-maserati-plata max-w-2xl mx-auto text-lg">
            Visite el corazón de la leyenda. Donde nace la innovación y el diseño italiano.
        </p>
    </div>

    <section class="bg-maserati-negro pb-24 px-6 relative z-10">
        <div class="max-w-7xl mx-auto">
            
            <div class="relative w-full h-[600px] rounded-xl overflow-hidden border border-maserati-gris shadow-[0_0_50px_rgba(31,64,104,0.2)]">
                <div id="maserati-map" class="w-full h-full bg-maserati-gris-10"></div>

                <div class="absolute top-6 left-6 z-400 bg-maserati-negro/90 backdrop-blur-md p-6 rounded border border-white/10 max-w-xs shadow-2xl hidden md:block">
                    <h3 class="text-white text-lg font-bold uppercase tracking-widest mb-2 border-l-2 border-maserati-azul pl-3">
                        Maserati S.p.A.
                    </h3>
                    <p class="text-maserati-plata text-sm leading-relaxed mb-4">
                        Viale Ciro Menotti, 322<br>
                        41121 Modena MO<br>
                        Italia
                    </p>
                    <a 
                        href="https://www.google.com/maps/dir//Maserati,+Viale+Ciro+Menotti,+322,+41121+Modena+MO,+Italia" 
                        target="_blank"
                        class="block text-center w-full bg-maserati-azul text-white text-xs font-bold py-2 rounded uppercase tracking-widest hover:bg-maserati-cian transition-colors"
                    >
                        Cómo llegar
                    </a>
                </div>
            </div>

            <div class="md:hidden mt-6 text-center">
                <a 
                    href="https://www.google.com/maps/dir//Maserati,+Viale+Ciro+Menotti,+322,+41121+Modena+MO,+Italia" 
                    target="_blank"
                    class="inline-block bg-maserati-azul text-white font-bold py-3 px-8 rounded uppercase tracking-widest hover:bg-maserati-cian transition-colors"
                >
                    Abrir en GPS
                </a>
            </div>

        </div>
    </section>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
</Layout>

<script>

    const initMap = async () => {
        
        const L = (await import('leaflet')).default;
        
        
        const maseratiCoords = [44.6471, 10.9388] as [number, number];

        const map = L.map('maserati-map', {
            center: maseratiCoords,
            zoom: 15,
            scrollWheelZoom: false 
        });

        
        L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
            attribution: '© OpenStreetMap contributors © CARTO',
            subdomains: 'abcd',
            maxZoom: 20
        }).addTo(map);

        
        const tridenteIcon = L.icon({
            iconUrl: '/assets/images/logos-image/logoMaseratiDorado.png', 
            iconSize: [50, 35],
            iconAnchor: [25, 35],
            popupAnchor: [0, -35]
        });

        
        L.marker(maseratiCoords, { icon: tridenteIcon })
            .addTo(map)
            .bindPopup(`
                <div style="text-align: center; color: black;">
                    <b style="font-size: 14px;">Fábrica Maserati</b><br>
                    <span style="font-size: 12px;">El hogar del Tridente</span>
                </div>
            `)
            .openPopup();
    };

    initMap();
</script>
</script>

<style>
        :global(.leaflet-popup-content-wrapper) {
        background: rgba(255, 255, 255, 0.9);
        border-radius: 4px;
    }
    :global(.leaflet-popup-tip) {
        background: rgba(255, 255, 255, 0.9);
    }
</style>